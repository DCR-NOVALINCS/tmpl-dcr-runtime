tmpl add(n: Number, m: Number): Result {
  (r: Result)[n + m]
} => r

tmpl sub(n: Number, m: Number): Result {
  (r: Result)[n - m]
} => r

tmpl max(r1: Result, r2: Result) {
  r1 -[r1.value > r2.value]->% r2
  r2 -[r2.value > r1.value]->% r1
}

(i: Input)[?: { l: Number, r: Number }]

i -->> {
  add(n = @trigger.value.l, m = @trigger.value.r) => result0
  sub(n = result0.value, m = @trigger.value.r) => result1
  max(r1 = result0, r2 = result1)
}