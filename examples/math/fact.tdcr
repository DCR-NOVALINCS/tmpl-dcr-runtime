# DEPRECATED: Until we have a proper way to handle recursion, this example is not working.

# Templates

tmpl fac_aux(acc: Number, i: Number, n: Number): NumberHolder {
    if i > n:
        (r: NumberHolder)[acc]
    else: 
        fac_aux(acc = i * acc, i = i + 1, n = n) => r
    /if
} => r

tmpl fac(n: Number): NumberHolder {
    fac_aux(acc = 1, i = 1, n = n) => r
} => r

# Entry point

(c: calc)[?: Number]

c -->> {
    fac(n = @trigger.value) => result
}