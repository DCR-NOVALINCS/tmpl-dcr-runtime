(executable
 (name main)
 (public_name tmpl_dcr)
 (libraries templating))

(executable
 (name runtime)
 (public_name js_test)
 (modes byte)
 (libraries templating js_of_ocaml)
 (preprocess
  (pps js_of_ocaml-ppx)))

(rule
 (alias js)
 (deps
  (file runtime.bc))
 (targets runtime.js)
 (action
  (run %{bin:js_of_ocaml} -o %{targets} %{deps})))
